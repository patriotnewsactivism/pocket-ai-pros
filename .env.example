# BuildMyBot - Environment Variables Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# SUPABASE CONFIGURATION (Database)
# Provide these keys to enable Supabase-backed features.
# Local development can run without them; missing values will show a warning.
# =============================================================================
VITE_SUPABASE_URL=https://your-project-ref.supabase.co
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key-here

# =============================================================================
# STRIPE PAYMENT PROCESSING (Required for revenue)
# Get these from: https://dashboard.stripe.com/apikeys
# =============================================================================
VITE_STRIPE_PUBLIC_KEY=pk_live_REPLACE_ME
STRIPE_SECRET_KEY=sk_live_REPLACE_ME
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_ME

# =============================================================================
# EMAIL SERVICE (Required for customer communication)
# Option 1: SendGrid (Recommended - Free tier available)
# Get API key from: https://app.sendgrid.com/settings/api_keys
# =============================================================================
SENDGRID_API_KEY=SG.REPLACE_ME
FROM_EMAIL=noreply@example.com
ADMIN_EMAIL=admin@example.com
SALES_EMAIL=sales@example.com
SUPPORT_EMAIL=support@example.com

# =============================================================================
# Option 2: Mailgun (Alternative email service)
# Get API key from: https://app.mailgun.com/app/account/security/api_keys
# =============================================================================
# MAILGUN_API_KEY=key-XXXXXXXXXXXXXXXXXXXXXXXX
# MAILGUN_DOMAIN=yourdomain.com

# =============================================================================
# Option 3: AWS SES (For high volume)
# Get credentials from: AWS Console ? SES
# =============================================================================
# AWS_SES_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
# AWS_SES_SECRET_ACCESS_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# AWS_SES_REGION=us-east-1

# =============================================================================
# GOOGLE ANALYTICS (Required for tracking & optimization)
# Get Measurement ID from: https://analytics.google.com
# =============================================================================
VITE_GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
VITE_ENABLE_ANALYTICS=true

# =============================================================================
# LIVE CHAT WIDGET
# Option 1: Tawk.to (Free) - Get IDs from: https://tawk.to
# Update these in src/components/LiveChat.tsx
# =============================================================================
VITE_ENABLE_CHAT_WIDGET=true
# TAWK_PROPERTY_ID=XXXXXXXXXXXXXXXX
# TAWK_WIDGET_ID=XXXXXXXXXXXXXXXX

# =============================================================================
# AI SERVICE (Supabase Edge Functions)
# Store this key server-side only. Never expose it via VITE_ variables.
# =============================================================================
OPENAI_API_KEY=sk-proj_REPLACE_ME

# Lovable API Key (for bot-chat Edge Function)
# Optional: Only needed if using Lovable API integration in chatbot
LOVABLE_API_KEY=your-lovable-api-key-here

# =============================================================================
# SUPABASE SERVER-SIDE CONFIGURATION (Edge Functions Only)
# =============================================================================
# ⚠️  CRITICAL SECURITY NOTES:
# 1. These variables are for Supabase Edge Functions (Deno runtime) ONLY
# 2. NEVER add the VITE_ prefix to these - that would expose them to browsers
# 3. Set these in: Supabase Dashboard → Edge Functions → Settings → Secrets
# 4. The service role key has FULL ADMIN ACCESS - protect it like a root password
# 5. Used by: process-reseller-application, and other Edge Functions
#
# Configuration Steps:
# 1. Go to: https://supabase.com/dashboard/project/YOUR_PROJECT_ID/functions
# 2. Navigate to: Edge Functions → Settings → Secrets
# 3. Add the following environment variables:
#    - SUPABASE_URL: Your Supabase project URL
#    - SUPABASE_SERVICE_ROLE_KEY: Your service role key (from API settings)
# =============================================================================

# Server-side Supabase URL (same value as VITE_SUPABASE_URL but without VITE_ prefix)
# This allows Edge Functions to connect to your database with admin privileges
SUPABASE_URL=https://your-project-ref.supabase.co

# Service Role Key - GRANTS FULL DATABASE ACCESS - NEVER EXPOSE TO CLIENT
# Get from: https://supabase.com/dashboard/project/YOUR_PROJECT_ID/settings/api
# This key bypasses Row Level Security (RLS) - use with extreme caution
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# =============================================================================
# Option 2: Intercom (Premium) - Get App ID from: https://intercom.com
# =============================================================================
# INTERCOM_APP_ID=XXXXXXXX

# =============================================================================
# Option 3: Crisp (Mid-tier) - Get Website ID from: https://crisp.chat
# =============================================================================
# CRISP_WEBSITE_ID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX

# =============================================================================
# API CONFIGURATION
# =============================================================================
VITE_API_BASE_URL=https://your-project-ref.supabase.co/functions/v1
VITE_API_TIMEOUT=30000

# Production API URL (update after deployment)
# VITE_API_BASE_URL=https://yourdomain.com/api

# =============================================================================
# ENVIRONMENT
# =============================================================================
VITE_APP_ENV=production
NODE_ENV=production

# =============================================================================
# FRONTEND URL (for backend redirects)
# =============================================================================
FRONTEND_URL=http://localhost:5173

# Production URL (update after deployment)
# FRONTEND_URL=https://yourdomain.com

# Public Site URL (for Stripe checkout redirects and Edge Functions)
# Used by: create-checkout-session Edge Function
PUBLIC_SITE_URL=http://localhost:5173

# Production URL (update after deployment)
# PUBLIC_SITE_URL=https://yourdomain.com

# =============================================================================
# DATABASE (for backend - uses Supabase URL)
# =============================================================================
DATABASE_URL=postgresql://postgres:[PASSWORD]@db.your-project-ref.supabase.co:5432/postgres

# =============================================================================
# OPTIONAL: ADDITIONAL INTEGRATIONS
# =============================================================================

# Facebook Pixel (for ad tracking)
# VITE_FACEBOOK_PIXEL_ID=XXXXXXXXXXXXXXX

# Google Tag Manager
# VITE_GTM_ID=GTM-XXXXXXX

# Hotjar (heatmaps & recordings)
# VITE_HOTJAR_ID=XXXXXXX
# VITE_HOTJAR_VERSION=6

# Sentry (error tracking)
# VITE_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# =============================================================================
# NOTES:
# =============================================================================
# 1. Never commit this file with real values to git
# 2. Use different keys for development and production
# 3. Stripe test keys start with pk_test_ and sk_test_
# 4. Production keys start with pk_live_ and sk_live_
# 5. Keep SECRET keys secure - never expose in frontend
# 6. Variables starting with VITE_ are accessible in frontend
# 7. Variables without VITE_ are backend-only

# =============================================================================
# QUICK SETUP CHECKLIST:
# =============================================================================
# [ ] 1. Copy this file to .env
# [ ] 2. Add Supabase URL + anon key (optional for local UI work)
# [ ] 3. Add Stripe keys (stripe.com)
# [ ] 4. Add SendGrid key (sendgrid.com)
# [ ] 5. Add Google Analytics ID (analytics.google.com)
# [ ] 6. Configure live chat (tawk.to or intercom.com)
# [ ] 7. Update production URLs after deployment
# [ ] 8. Test all integrations work

# =============================================================================
# WHERE TO GET THESE:
# =============================================================================
# Stripe: https://dashboard.stripe.com/apikeys
# SendGrid: https://app.sendgrid.com/settings/api_keys
# Google Analytics: https://analytics.google.com/
# Tawk.to: https://tawk.to/ (free)
# Supabase: https://supabase.com/dashboard

# =============================================================================
# SUPPORT:
# =============================================================================
# Full setup guide: See SETUP_INSTRUCTIONS.md
# Business guide: See BUSINESS_READY.md
# Deployment guide: See DEPLOYMENT.md
